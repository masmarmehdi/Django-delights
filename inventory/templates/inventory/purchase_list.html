{% extends 'base.html' %}

{% block head %}
    <title>Purchases</title>
{% endblock %}

{% block content %}
<div style="text-align:center; margin:20px;">
    <h1>Purchases</h1>
    {% if user.is_authenticated %}
        <a href="{% url 'create-purchase' %}"><button class="btn btn-primary">Add a new purchase</button></a>
    {% endif %}
</div>
<div class='row justify-content-center'>
    <div class='col-md-6'>
        <table class="table table-light" style="text-align:center;">
            <thead>
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Product</th>
                <th scope="col">Price</th>
            </tr>
            </thead>
            <tbody>
                {% for item in purchases %}
                <tr>
                    <td>{{item.id}}</td>
                    <td>{{item}}</td>
                    <td>{{item.menu_item.price}} $</td>
                </tr>
                {% endfor %}
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="2" align="right">
                        <b>Revenue:</b>
                    </td>
                    <td class="text-primary"><b>{{revenue}} $</b></td>
                </tr>
                <tr scope="row">
                    <td colspan="2" align="right">
                        <b>Cost:</b>
                    </td>
                    <td colspane="3" class="text-danger"><b>{{total_cost|floatformat:2}} $</b></td>
                </tr>
                <tr scope="row">
                    <td colspan="2" align="right">
                        <b>Profit:</b>
                    </td>
                    <td class="text-success"><b>{{profit|floatformat:2}} $</b></td>
                </tr>
            </tfoot>
        </table>
    </div>
</div>



{% endblock %}